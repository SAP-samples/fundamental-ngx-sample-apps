<mat-card
        [routerLink]="'/contracts'"
        style="margin-right: 18px;">
        <mat-card-title>Contracts</mat-card-title>
        <mat-card-subtitle>Quick information about company contracts.</mat-card-subtitle>
    <ng-container *ngIf="contracts | async as contractList">
        <table mat-table [dataSource]="contractList.slice(0, 3)" class="mat-elevation-z8">
            <tr mat-header-row *matHeaderRowDef="['company', 'contact', 'value', 'status']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['company', 'contact', 'value', 'status'];"></tr>
            <ng-container matColumnDef="company">
                <th mat-header-cell *matHeaderCellDef> Company </th>
                <td mat-cell *matCellDef="let element"> {{element.company}} </td>
            </ng-container>
            
            <ng-container matColumnDef="contact">
                <th mat-header-cell *matHeaderCellDef> Contact </th>
                <td mat-cell *matCellDef="let element"> {{element.contact}} </td>
            </ng-container>
            
            <ng-container matColumnDef="value">
                <th mat-header-cell *matHeaderCellDef> Value </th>
                <td mat-cell *matCellDef="let element"> {{element.value}} </td>
            </ng-container>
            
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element">
                    <mat-chip-list>
                            <mat-chip selected="true" [color]="element.status=='dropped'? 'warn': '' || element.status=='on hold'? 'accent': '' || element.status=='completed'? 'primary': ''">
                                {{element.status}} 
                            </mat-chip>
                    </mat-chip-list>
                </td>
            </ng-container>
            </table>
    </ng-container>
    <div *ngIf="!(contracts | async)"
            class="spinner-container">
        <fd-loading-spinner [loading]="true"></fd-loading-spinner>
    </div>
</mat-card>

<mat-card
        [routerLink]="'/products'"
        style="margin-right: 18px;">
        <mat-card-title>Products</mat-card-title>
        <mat-card-subtitle>Quick information about company products.</mat-card-subtitle>
    <ng-container *ngIf="products | async as productList">
        <table mat-table [dataSource]="productList.slice(0, 3)" class="mat-elevation-z8">
            <tr mat-header-row *matHeaderRowDef="['name', 'contact', 'lob', 'user_number', 'status']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['name', 'contact', 'lob', 'user_number', 'status'];"></tr>
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>
            
            <ng-container matColumnDef="contact">
                <th mat-header-cell *matHeaderCellDef> Contact </th>
                <td mat-cell *matCellDef="let element"> {{element.contact}} </td>
            </ng-container>
            
            <ng-container matColumnDef="lob">
                <th mat-header-cell *matHeaderCellDef> Line Of Business </th>
                <td mat-cell *matCellDef="let element"> {{element.lob}} </td>
            </ng-container>

            <ng-container matColumnDef="user_number">
                <th mat-header-cell *matHeaderCellDef> User Number </th>
                <td mat-cell *matCellDef="let element"> {{element.lob}} </td>
            </ng-container>
            
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element">
                    <mat-chip-list>
                            <mat-chip selected="true" [color]="element.status=='dropped'? 'warn': '' || element.status=='in progress'? 'accent': '' || element.status=='completed'? 'primary': ''">
                                {{element.status | uppercase}} 
                            </mat-chip>
                    </mat-chip-list>
                </td>
            </ng-container>
            </table>
    </ng-container>
    <div *ngIf="!(products | async)"
            class="spinner-container">
        <fd-loading-spinner [loading]="true"></fd-loading-spinner>
    </div>
</mat-card>

<!-- 
<fd-panel class="panel-custom"
          [routerLink]="'/products'"
          style="margin-left: 18px;">
    <fd-panel-header>
        <fd-panel-head>
            <h2>Products</h2>
            <fd-panel-description>Quick information about company products.</fd-panel-description>
        </fd-panel-head>
    </fd-panel-header>
    <fd-panel-body>
        <ng-container *ngIf="products | async as productList">
            <table class="table-custom">
                <tr *ngFor="let product of productList.slice(0, 3)">
                    <td class="">{{product.name}}</td>
                    <td class="">{{product.contact}}</td>
                    <td class="">{{product.lob}}</td>
                    <td class="">
                        <span fd-badge [status]="product.status | status  "
                                  modifier="pill">
                            {{product.status | uppercase}}
                    </span>
                    </td>
                </tr>
            </table>
        </ng-container>
        <div *ngIf="!(contracts | async)"
             class="spinner-container">
            <fd-loading-spinner [loading]="true"></fd-loading-spinner>
        </div>
    </fd-panel-body>
</fd-panel> -->