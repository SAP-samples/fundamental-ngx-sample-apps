<fd-panel>
    <fd-panel-header>
        <fd-panel-head>
            <h2>Products</h2>
            <fd-panel-description>Manage the products recorded by various company representatives.
            </fd-panel-description>
        </fd-panel-head>
        <fd-panel-actions>
            <button fd-button
                    fdType="light"
                    glyph="add"
                    (click)="openCreateModal()"></button>
        </fd-panel-actions>


    </fd-panel-header>
</fd-panel>
<div class="fd-has-padding-m">
    <div *ngIf="products">
        <fd-multi-input 
        [dropdownValues]="products"
        [placeholder]="'Search here...'"
        [(ngModel)]="selected"
        [displayFn]="displayFunc">
        </fd-multi-input>
                <span *ngFor="let item of selected; let i = index">
        </span>
    </div>

    <table fd-table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Contact</th>
                <th>LoB</th>
                <th>User Number</th>
                <th>Status</th>
                <th></th>
            </tr>
        </thead>

        <tbody *ngIf="products">
            <tr *ngFor="let product of products">
                <ng-container  *ngIf="filterProduct(product)">
                <td>{{product.name}}
                <fd-inline-help [placement]="'right'">
                    Information about {{product.name}}
                </fd-inline-help>
                </td>
                <td>{{product.contact}}</td>
                <td>{{product.lob}}</td>
                <td>{{product.user_number}}</td>
                <td>
                    <span fd-badge [status]="product.status | status"
                              modifier="pill">
                        {{product.status}}
                </span>
                </td>
                <td style="text-align: end;">
                    <fd-icon glyph="edit"
                             class="action-button"
                             tabindex="0"
                             size="m"
                             title="Edit Contract"
                             (click)="openEditModal(product)"></fd-icon>
                    <fd-icon glyph="delete"
                             class="action-button"
                             tabindex="0"
                             size="m"
                             title="Delete Contract"
                             (click)="openConfirmModal()"></fd-icon>
                </td>
            </ng-container>
            </tr>
        </tbody>
    </table>
    <div *ngIf="!(products)"
         class="spinner-container">
        <fd-loading-spinner [loading]="true"></fd-loading-spinner>
    </div>
</div>